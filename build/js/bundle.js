(()=>{"use strict";const n=document.querySelector(".search__location__button"),t=document.querySelector(".ip__input"),e=document.querySelector(".response__block");function i(n,t,i,o,s,c){if(n)return void(e.innerHTML=`<span class="error">${n}</span>`);const a=`City: "${t}"\nRegion: "${i}"\nCountry: "${o}"\nLatitude: ${s}\nLongitude: ${c}`.replace(/"([^"]*)"/g,'<span class="string">"$1"</span>').replace(/-?\d+(?:\.\d+)?/g,'<span class="number">$&</span>');e.innerHTML=a}n.addEventListener("click",(function(){return n=this,e=void 0,s=function*(){const n=t.value,e=`https://ipapi.co/${n}/json/`,{validIp:o,invalidationMessage:s}=function(n){const t=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(\.|$)){4}$/,e=[{condition:()=>"string"!=typeof n,message:"Just strings are accepted."},{condition:()=>!n.match(t),message:"You must provide a valid ipv4 format. Ex.: 255.255.255.255."},{condition:()=>!n.length,message:"An ip address wasn't provided."}],{condition:i,message:o}=e.find((n=>n.condition()))||{condition:()=>!1,message:""};return{validIp:!i(),invalidationMessage:o}}(n);if(o)try{const n=yield fetch(e),t=yield n.json();i(void 0,t.city,t.region,t.country_name,t.latitude,t.longitude)}catch(n){i("Not found")}else i(s)},new((o=void 0)||(o=Promise))((function(t,i){function c(n){try{r(s.next(n))}catch(n){i(n)}}function a(n){try{r(s.throw(n))}catch(n){i(n)}}function r(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(n){n(e)}))).then(c,a)}r((s=s.apply(n,e||[])).next())}));var n,e,o,s}))})();