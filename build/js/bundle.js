(()=>{"use strict";const n=document.querySelector(".search__location__button"),t=document.querySelector(".ip__input"),e=document.querySelector(".response__block");function i(n,t,i,o,a,c){if(n)return void(e.innerHTML=`<span class="error">${n}</span>`);const s=`City: "${t}"\nRegion: "${i}"\nCountry: "${o}"\nLatitude: ${a}\nLongitude: ${c}`.replace(/"([^"]*)"/g,'<span class="string">"$1"</span>').replace(/-?\d+(?:\.\d+)?/g,'<span class="number">$&</span>');e.innerHTML=s}n.addEventListener("click",(function(){return n=this,e=void 0,a=function*(){const n=t.value,e=`https://api.ipgeolocation.io/v2/ipgeo?apiKey=af2a6fe19dd7419ea1db6c59fe71b1a9&ip=${n}`,{validIp:o,invalidationMessage:a}=function(n){const t=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(\.|$)){4}$/,e=[{condition:()=>"string"!=typeof n,message:"Just strings are accepted."},{condition:()=>!n.match(t),message:"You must provide a valid ipv4 format. Ex.: 255.255.255.255."},{condition:()=>!n.length,message:"An ip address wasn't provided."}],{condition:i,message:o}=e.find((n=>n.condition()))||{condition:()=>!1,message:""};return{validIp:!i(),invalidationMessage:o}}(n);if(o)try{const n=yield fetch(e),t=yield n.json();i(void 0,t.location.city,t.location.district,t.location.country_name,t.location.latitude,t.location.longitude)}catch(n){i("Not found")}else i(a)},new((o=void 0)||(o=Promise))((function(t,i){function c(n){try{r(a.next(n))}catch(n){i(n)}}function s(n){try{r(a.throw(n))}catch(n){i(n)}}function r(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(n){n(e)}))).then(c,s)}r((a=a.apply(n,e||[])).next())}));var n,e,o,a}))})();